<!DOCTYPE html>
<html>
<head>
  <title>Daily Money Tracker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin-top: 40px;
      transition: 0.3s;
    }

    .light {
      background-color: #f4f6f9;
      color: #000;
    }

    .dark {
      background-color: #121212;
      color: white;
    }

    .container {
      background: white;
      padding: 25px;
      border-radius: 15px;
      display: inline-block;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    .dark .container {
      background: #1e1e1e;
    }

    h1 {
      margin-bottom: 5px;
    }

    .amount {
      font-size: 48px;
      margin: 20px 0;
      font-weight: bold;
    }

    button {
      padding: 12px 18px;
      margin: 6px;
      font-size: 16px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
    }

    .green { background-color: #2ecc71; color: white; }
    .blue { background-color: #3498db; color: white; }
    .red { background-color: #e74c3c; color: white; }
    .gray { background-color: #555; color: white; }

    input {
      padding: 10px;
      font-size: 16px;
      width: 120px;
      text-align: center;
      border-radius: 6px;
      border: 1px solid #ccc;
    }

    .alert {
      color: red;
      font-weight: bold;
      margin-top: 10px;
    }

  </style>
</head>

<body class="light">

<div class="container">
  <h1>üí∞ Daily Spend Tracker</h1>
  <p>Make spending painful again.</p>

  <div class="amount">‚Çπ <span id="total">0</span></div>

  <div>
    <button class="green" onclick="addAmount(1)">+1</button>
    <button class="blue" onclick="addAmount(-1)">-1</button>
    <button class="red" onclick="reset()">Reset</button>
  </div>

  <h3>Quick Add</h3>
  <div>
    <button class="gray" onclick="addAmount(5)">+5</button>
    <button class="gray" onclick="addAmount(10)">+10</button>
    <button class="gray" onclick="addAmount(50)">+50</button>
    <button class="gray" onclick="addAmount(100)">+100</button>
    <button class="gray" onclick="addAmount(500)">+500</button>
  </div>

  <h3>Manual Entry</h3>
  <input type="number" id="manual" placeholder="Enter amount" inputmode="numeric">
  <button class="green" onclick="addManual()">Add</button>

  <h3>Daily Limit</h3>
  <input type="number" id="limitInput" placeholder="Set limit">
  <button class="blue" onclick="setLimit()">Set</button>

  <div id="alertBox" class="alert"></div>

  <br>
  <button onclick="toggleTheme()">üåô Toggle Dark Mode</button>

</div>

<script>
  const today = new Date().toISOString().split('T')[0];

  let savedDate = localStorage.getItem("date");
  let total = parseInt(localStorage.getItem("total")) || 0;
  let limit = parseInt(localStorage.getItem("limit")) || 0;

  if (savedDate !== today) {
    total = 0;
    localStorage.setItem("date", today);
    localStorage.setItem("total", 0);
  }

  document.getElementById("total").innerText = total;

  function save() {
    localStorage.setItem("total", total);
  }

  function update() {
    document.getElementById("total").innerText = total;
    save();
    checkLimit();
  }

  function addAmount(value) {
    total += value;
    if (total < 0) total = 0;
    update();
  }

  function addManual() {
    let value = parseInt(document.getElementById("manual").value);
    if (!isNaN(value)) {
      total += value;
      document.getElementById("manual").value = "";
      update();
    }
  }

  function reset() {
    total = 0;
    update();
  }

  function setLimit() {
    limit = parseInt(document.getElementById("limitInput").value);
    localStorage.setItem("limit", limit);
    checkLimit();
  }

  function checkLimit() {
    if (limit > 0 && total >= limit) {
      document.getElementById("alertBox").innerText =
        "‚ö†Ô∏è You crossed your daily limit!";
    } else {
      document.getElementById("alertBox").innerText = "";
    }
  }

  function toggleTheme() {
    document.body.classList.toggle("dark");
    document.body.classList.toggle("light");
  }
</script>

</body>
</html>
